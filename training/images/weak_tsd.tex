\documentclass[tikz,border=10pt]{standalone}

\usepackage{tikz}
\usetikzlibrary{positioning}
\usetikzlibrary{shapes,arrows,backgrounds,fit,shapes.geometric,calc}
\usetikzlibrary{pgfplots.groupplots}
\usetikzlibrary{patterns}
\usepackage{pgfplots}
\pgfplotsset{width=7cm,compat=1.3}
\usepackage{pgfplotstable}
\usepackage{listings}
\usepackage{lstautogobble}
\usepackage{color}

\renewcommand{\familydefault}{\sfdefault}

\begin{document}
\tikzset{>=stealth', pil/.style={ ->, color=black!60, thick, } }

    \begin{tikzpicture} 
    %[scale=0.9, every node/.style={scale=0.9}]
        \pgfplotsset{
            scale only axis,
            xmin=1, xmax=5
        }

        \begin{axis}[
            axis y line*=left,
            height=0.7\textwidth,
            width=\textwidth,
            xtick=      {1,  2,   3,    4,     5},
            xticklabels={1, 10, 100, {1k}, {10k}},
            ymin=5, ymax=10,
            ytick={0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10},
            yticklabels={0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10},
            yticklabel style=red,
            legend style = {at={(0,0)}, anchor=south west},
            line width=1pt,
            xlabel=nodes,
            ylabel=wall time (s),
            every axis y label/.style=
                {at={(ticklabel cs:0.5)},rotate=90,anchor=near ticklabel},
            grid=major]
            \addplot[color=red, mark=*, mark size=1.5, mark options={fill=white}]
                table[x=pos,y=c1k] {weak_wall.tbl};\label{plot_one}
	    \addlegendentry{1k cells per node}
        \end{axis}
        
        
          \begin{axis}[
            axis y line*=right,
            axis x line=none,
            height=0.7\textwidth,
            width=\textwidth,
            xtick=      {1,  2,   3,    4,     5},
            xticklabels={1, 10, 100, {1k}, {10k}},
            ymin=50, ymax=100,
            ytick={0, 10, 20, 30, 40, 50, 60, 70, 80, 90, 100},
            yticklabels={0, 10, 20, 30, 40, 50, 60, 70, 80, 90, 100},
            yticklabel pos=right,
            yticklabel style=blue,
            legend style = {at={(0,0)}, anchor=south west},
            line width=1pt,
            xlabel=nodes,
            every axis y label/.style=
                {at={(ticklabel cs:0.5)},rotate=90,anchor=near ticklabel},
            grid=major]
            
            \addlegendimage{/pgfplots/refstyle=plot_one}\addlegendentry{1k cells per node}
            \addplot[color=blue, mark=*, mark size=1.5, mark options={fill=white}]
                table[x=pos,y=c10k] {weak_wall.tbl};
            \addlegendentry{10k cells per node}
        \end{axis}        
    \end{tikzpicture}
    
    
%    \begin{tikzpicture} 
%    %[scale=0.9, every node/.style={scale=0.9}]
%        \begin{axis}[
%            height=0.7\textwidth,
%            width=\textwidth,
%            xtick=      {1,  2,   3,    4,     5},
%            xticklabels={1, 10, 100, {1k}, {10k}},
%            ymin=50, ymax=100,
%            ytick={0, 10, 20, 30, 40, 50, 60, 70, 80, 90, 100},
%            yticklabels={0, 10, 20, 30, 40, 50, 60, 70, 80, 90, 100},
%            yticklabel pos=right,
%            legend style = {at={(0,0)}, anchor=south west},
%            line width=1pt,
%            xlabel=nodes,
%            every axis y label/.style=
%                {at={(ticklabel cs:0.5)},rotate=90,anchor=near ticklabel},
%            grid=major]
%            \addplot[color=black, mark=*, mark size=1.5, mark options={fill=white}]
%                table[x=pos,y=c10k] {weak_wall.tbl};
%        \end{axis}
%    \end{tikzpicture}

\end{document}
